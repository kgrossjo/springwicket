<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link href="/webjars/bootstrap/4.1.3/css/bootstrap.css" rel="stylesheet">
	<link href="/springwicket.css" rel="stylesheet">
	<title>Search Documents</title>
</head>
<body>

	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<a class="navbar-brand" href="/">Spring Wicket</a>
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item">
					<a class="nav-link" href="/documents">Documents</a>
				</li>
				<li class="nav-item active">
					<a class="nav-link" href="/search">Search <span class="sr-only">(current)</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="/documents/add">Add Document</a>
				</li>
			</ul>
		</div>
	</nav>

	<h1>Search Documents</h1>
	
	<form action="/search" method="POST" class="form-inline">
		<div class="form-group">
			<label for="query" class="sr-only">Query</label>
			<input type="text" name="query" class="form-control mb-2 mr-2" th:value="${query}">
			<input type="submit" value="Search" class="btn btn-primary mb-2">
		</div>
	</form>
	
	<table class="table">
		<thead class="thead-light">
			<tr>
				<th scope="col">Edit</th>
				<th scope="col">ID</th>
				<th scope="col">Score</th>
				<th scope="col">Title</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="x : ${result}">
				<td>
					<a href="/" th:href="@{/documents/edit(id=${x.document})}"> 
						<span th:text="${x.document}"></span>
					</a>
				</td>
				<td>
					<span th:text="${x.document}"></span>
				</td>
				<td>
					<span th:text="${x.score}"></span>
				</td>
				<td>
					<span th:text="${x.title}"></span>
				</td>
			</tr>
		</tbody>
	</table>
	
	<p>
		<a href="/documents">Go back</a>
		to the list of documents.
	</p>

	<script src="/webjars/jquery/3.0.0/jquery.js"></script>
	<script src="/webjars/popper.js"></script>
	<script src="/webjars/bootstrap/4.1.3/js/bootstrap.js"></script>
</body>
</html>